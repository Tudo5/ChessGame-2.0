<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–®–∞—Ö–º–∞—Ç—ã –∏ –®–∞—à–∫–∏ ‚Äî –¢–µ–º–∞ –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∞</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="root"></div>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    /* ------------- –£–¢–ò–õ–ò–¢–´ ------------- */
    const inBounds = (r, c) => r >= 0 && r < 8 && c >= 0 && c < 8;
    const cloneBoard = b => b.map(row => row.map(cell => cell ? { ...cell } : null));

    /* ========== –®–ê–•–ú–ê–¢–´ ========== */
    const chessPieces = { wK: "‚ôî", wQ: "‚ôï", wR: "‚ôñ", wB: "‚ôó", wN: "‚ôò", wP: "‚ôô", bK: "‚ôö", bQ: "‚ôõ", bR: "‚ôú", bB: "‚ôù", bN: "‚ôû", bP: "‚ôü" };
    function initialChessBoard() {
      const b = Array(8).fill(null).map(() => Array(8).fill(null));
      const back = ["R", "N", "B", "Q", "K", "B", "N", "R"];
      for (let i = 0; i < 8; i++) {
        b[0][i] = { color: "b", kind: back[i] };
        b[1][i] = { color: "b", kind: "P" };
        b[6][i] = { color: "w", kind: "P" };
        b[7][i] = { color: "w", kind: back[i] };
      }
      return b;
    }
    function getChessMovesRaw(board, r, c) {
      const p = board[r][c]; if (!p) return [];
      const moves = []; const push = (x, y) => { if (!inBounds(x, y)) return; const t = board[x][y]; if (!t || t.color !== p.color) moves.push([x, y]); };
      if (p.kind === "P") {
        const dir = p.color === "w" ? -1 : 1;
        if (inBounds(r + dir, c) && !board[r + dir][c]) moves.push([r + dir, c]);
        if ((r === 6 && p.color === "w") || (r === 1 && p.color === "b")) {
          if (inBounds(r + 2 * dir, c) && !board[r + dir][c] && !board[r + 2 * dir][c]) moves.push([r + 2 * dir, c]);
        }
        for (let dy of [-1, 1]) {
          if (inBounds(r + dir, c + dy) && board[r + dir][c + dy] && board[r + dir][c + dy].color !== p.color) moves.push([r + dir, c + dy]);
        }
      }
      if (p.kind === "N") {
        [[-2, -1], [-2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2], [2, -1], [2, 1]].forEach(([dx, dy]) => push(r + dx, c + dy));
      }
      if (["B", "R", "Q"].includes(p.kind)) {
        const dirs = []; if (["B", "Q"].includes(p.kind)) dirs.push([-1, -1], [-1, 1], [1, -1], [1, 1]); if (["R", "Q"].includes(p.kind)) dirs.push([-1, 0], [1, 0], [0, -1], [0, 1]);
        dirs.forEach(([dx, dy]) => {
          let x = r + dx, y = c + dy;
          while (inBounds(x, y)) {
            if (!board[x][y]) { moves.push([x, y]); x += dx; y += dy; continue; }
            if (board[x][y].color !== p.color) moves.push([x, y]);
            break;
          }
        });
      }
      if (p.kind === "K") {
        for (let dx = -1; dx <= 1; dx++) for (let dy = -1; dy <= 1; dy++) if (dx || dy) push(r + dx, c + dy);
      }
      return moves;
    }
    function findKing(board, color) {
      for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) if (board[r][c] && board[r][c].color === color && board[r][c].kind === "K") return [r, c];
      return null;
    }
    function isCheck(board, color) {
      const kingPos = findKing(board, color); if (!kingPos) return false;
      const enemy = color === "w" ? "b" : "w";
      for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) {
        const p = board[r][c];
        if (p && p.color === enemy) {
          const moves = getChessMovesRaw(board, r, c);
          if (moves.some(([x, y]) => x === kingPos[0] && y === kingPos[1])) return true;
        }
      }
      return false;
    }
    function getLegalChessMoves(board, r, c) {
      const raw = getChessMovesRaw(board, r, c);
      const legal = [];
      for (const [nr, nc] of raw) {
        const nb = cloneBoard(board);
        nb[nr][nc] = nb[r][c];
        nb[r][c] = null;
        if (!isCheck(nb, nb[nr][nc].color)) legal.push([nr, nc]);
      }
      return legal;
    }
    function allChessLegalMoves(board, color) {
      const res = [];
      for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) {
        const p = board[r][c];
        if (p && p.color === color) {
          const moves = getLegalChessMoves(board, r, c);
          for (const [nr, nc] of moves) res.push({ from: [r, c], to: [nr, nc] });
        }
      }
      return res;
    }
    function isCheckmate(board, color) {
      if (!isCheck(board, color)) return false;
      for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) {
        const p = board[r][c];
        if (p && p.color === color) {
          const moves = getLegalChessMoves(board, r, c);
          for (const [nr, nc] of moves) {
            const nb = cloneBoard(board);
            nb[nr][nc] = nb[r][c]; nb[r][c] = null;
            if (!isCheck(nb, color)) return false;
          }
        }
      }
      return true;
    }
    const pieceValue = { K: 900, Q: 90, R: 50, B: 30, N: 30, P: 10 };
    function materialScore(board, color) {
      let sum = 0;
      for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) {
        const p = board[r][c];
        if (p) {
          sum += (p.color === color ? 1 : -1) * (pieceValue[p.kind] || 0);
        }
      }
      return sum;
    }

    /* ========== –®–ê–®–ö–ò ========== */
    function initCheckersBoard() {
      const b = Array(8).fill(null).map(() => Array(8).fill(null));
      for (let r = 0; r < 3; r++) for (let c = 0; c < 8; c++) if ((r + c) % 2 === 1) b[r][c] = { color: "b", king: false };
      for (let r = 5; r < 8; r++) for (let c = 0; c < 8; c++) if ((r + c) % 2 === 1) b[r][c] = { color: "w", king: false };
      return b;
    }
    function getCheckersMoves(board, r, c) {
      const p = board[r][c]; if (!p) return [];
      const dirs = p.king ? [[1, 1], [1, -1], [-1, 1], [-1, -1]] : (p.color === "w" ? [[-1, -1], [-1, 1]] : [[1, -1], [1, 1]]);
      const moves = [];
      for (const [dr, dc] of dirs) {
        const nr = r + dr, nc = c + dc;
        if (inBounds(nr, nc) && !board[nr][nc]) moves.push({ path: [[nr, nc]], captured: [] });
      }
      function jump(r0, c0, path, captured, visited) {
        let cont = false;
        for (const [dr, dc] of dirs) {
          const mr = r0 + dr, mc = c0 + dc;
          const jr = mr + dr, jc = mc + dc;
          if (inBounds(mr, mc) && board[mr][mc] && board[mr][mc].color !== p.color && inBounds(jr, jc) && !board[jr][jc] && !visited.has(mr * 8 + mc)) {
            const newVisited = new Set(visited); newVisited.add(mr * 8 + mc);
            const newPath = [...path, [jr, jc]]; const newCaptured = [...captured, [mr, mc]];
            const further = jump(jr, jc, newPath, newCaptured, newVisited);
            if (!further) moves.push({ path: newPath, captured: newCaptured });
            cont = true;
          }
        }
        return cont;
      }
      jump(r, c, [], [], new Set());
      return moves;
    }

    /* ========== –ë–û–¢–´ (–Ω–µ —Ç—Ä–æ–≥–∞–µ–º) ========== */
    function chessBotMove(board, color, level) {
      const moves = allChessLegalMoves(board, color);
      if (moves.length === 0) return null;
      if (level === 1) return moves[Math.floor(Math.random() * moves.length)];
      if (level === 2) {
        const caps = moves.filter(m => !!board[m.to[0]][m.to[1]]);
        if (caps.length) return caps[Math.floor(Math.random() * caps.length)];
        return moves[Math.floor(Math.random() * moves.length)];
      }
      let best = null; let bestScore = -Infinity;
      for (const m of moves) {
        const nb = cloneBoard(board);
        nb[m.to[0]][m.to[1]] = nb[m.from[0]][m.from[1]]; nb[m.from[0]][m.from[1]] = null;
        const p = nb[m.to[0]][m.to[1]];
        if (p.kind === "P" && (m.to[0] === 0 || m.to[0] === 7)) p.kind = "Q";
        if (isCheck(nb, color)) continue;
        const score = materialScore(nb, color);
        if (score > bestScore || (score === bestScore && Math.random() < 0.2)) { bestScore = score; best = m; }
      }
      return best || moves[Math.floor(Math.random() * moves.length)];
    }
    function checkersBotMove(board, color, level) {
      const all = [];
      for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) {
        const p = board[r][c];
        if (p && p.color === color) {
          const moves = getCheckersMoves(board, r, c);
          for (const mv of moves) all.push({ from: [r, c], move: mv });
        }
      }
      if (all.length === 0) return null;
      if (level === 1) return all[Math.floor(Math.random() * all.length)];
      if (level === 2) {
        const caps = all.filter(a => a.move.captured.length > 0);
        if (caps.length) return caps[Math.floor(Math.random() * caps.length)];
        return all[Math.floor(Math.random() * all.length)];
      }
      let best = null; let bestCap = -1;
      for (const a of all) {
        const ccount = a.move.captured.length;
        if (ccount > bestCap || (ccount === bestCap && Math.random() < 0.2)) { best = a; bestCap = ccount; }
      }
      return best;
    }

    /* ========== –ö–û–ú–ü–û–ù–ï–ù–¢: ChessGame (–æ–±–Ω–æ–≤–ª—ë–Ω –¥–ª—è —Ç–µ–º—ã –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–∏) ========== */
    function ChessGame({ goMenu, theme, toggleTheme }) {
      const [board, setBoard] = React.useState(initialChessBoard());
      const [turn, setTurn] = React.useState("w");
      const [selected, setSelected] = React.useState(null);
      const [highlight, setHighlight] = React.useState([]);
      const [mode, setMode] = React.useState(null);
      const [botLevel, setBotLevel] = React.useState(1);
      const [message, setMessage] = React.useState("");
      const [gameOver, setGameOver] = React.useState(false);

      React.useEffect(() => {
        if (mode === "bot" && turn === "b" && !gameOver) {
          const t = setTimeout(() => {
            const m = chessBotMove(board, "b", botLevel);
            if (m) {
              performMove(m.from[0], m.from[1], m.to[0], m.to[1]);
            } else {
              if (isCheck(board, "b")) { setMessage("‚ôõ –ú–ê–¢ ‚ôõ"); setGameOver(true); }
              else { setMessage("–ü–∞—Ç"); setGameOver(true); }
            }
          }, 350);
          return () => clearTimeout(t);
        }
      }, [board, turn, mode, botLevel, gameOver]);

      function performMove(sr, sc, r, c) {
        if (gameOver) return;
        const nb = cloneBoard(board);
        nb[r][c] = nb[sr][sc];
        nb[sr][sc] = null;
        const piece = nb[r][c];
        if (piece.kind === "P" && (r === 0 || r === 7)) piece.kind = "Q";
        setBoard(nb);
        const next = turn === "w" ? "b" : "w";
        setTurn(next);
        setSelected(null);
        setHighlight([]);
        if (isCheck(nb, next)) {
          if (isCheckmate(nb, next)) { setMessage("‚ôõ –ú–ê–¢ ‚ôõ"); setGameOver(true); }
          else { setMessage("‚ôû –®–ê–• ‚ôû"); setTimeout(() => setMessage(""), 1200); }
        } else {
          const movesExist = allChessLegalMoves(nb, next).length > 0;
          if (!movesExist) { setMessage("–ü–∞—Ç"); setGameOver(true); }
        }
      }

      function onClick(r, c) {
        if (gameOver) return;
        const p = board[r][c];
        if (!selected) {
          if (mode === null) { setMessage("–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–≥—Ä—ã (2 –∏–≥—Ä–æ–∫–∞ –∏–ª–∏ —Å –±–æ—Ç–æ–º)"); setTimeout(() => setMessage(""), 1100); return; }
          if (p && p.color === turn) { setSelected([r, c]); setHighlight(getLegalChessMoves(board, r, c)); }
        } else {
          if (highlight.some(([hr, hc]) => hr === r && hc === c)) { performMove(selected[0], selected[1], r, c); return; }
          if (p && p.color === turn) { setSelected([r, c]); setHighlight(getLegalChessMoves(board, r, c)); }
          else { setSelected(null); setHighlight([]); }
        }
      }

      function reset() { setBoard(initialChessBoard()); setTurn("w"); setSelected(null); setHighlight([]); setMode(null); setBotLevel(1); setMessage(""); setGameOver(false); }

      return (
        <div className="game-container">
          {message && <div className="popup">{message}</div>}
          <div className="game-controls">
            <div className="mode-controls">
              {mode === null ? (
                <>
                  <button className="btn small" onClick={() => setMode("2p")}>üßë‚Äçü§ù‚Äçüßë 2 –∏–≥—Ä–æ–∫–∞</button>
                  <button className="btn small" onClick={() => setMode("bot")}>ü§ñ –° –±–æ—Ç–æ–º</button>
                  <button className="btn small alt" onClick={reset}>üîÑ –ù–æ–≤–∞—è</button>
                  <button className="btn small alt" onClick={goMenu}>üè† –í –º–µ–Ω—é</button>
                </>
              ) : (
                <>
                  <div className="mode-row">
                    <button className={`btn small ${mode === "2p" ? "selected" : ""}`} onClick={() => setMode("2p")}>üßë‚Äçü§ù‚Äçüßë 2 –∏–≥—Ä–æ–∫–∞</button>
                    <button className={`btn small ${mode === "bot" ? "selected" : ""}`} onClick={() => setMode("bot")}>ü§ñ –° –±–æ—Ç–æ–º</button>
                  </div>
                  {mode === "bot" && (
                    <div className="difficulty">
                      <span className="diff-label">–£—Ä–æ–≤–µ–Ω—å:</span>
                      <button className={`btn tiny ${botLevel === 1 ? "selected" : ""}`} onClick={() => setBotLevel(1)}>–õ—ë–≥–∫–∏–π</button>
                      <button className={`btn tiny ${botLevel === 2 ? "selected" : ""}`} onClick={() => setBotLevel(2)}>–°—Ä–µ–¥–Ω–∏–π</button>
                      <button className={`btn tiny ${botLevel === 3 ? "selected" : ""}`} onClick={() => setBotLevel(3)}>–°–ª–æ–∂–Ω—ã–π</button>
                    </div>
                  )}
                  <button className="btn small alt" onClick={reset}>üîÑ –ù–æ–≤–∞—è</button>
                  <button className="btn small alt" onClick={goMenu}>üè† –í –º–µ–Ω—é</button>
                </>
              )}
            </div>
          </div>

          <h2 className="title">–®–∞—Ö–º–∞—Ç—ã</h2>

          <div className="theme-switcher" style={{ marginBottom: 8 }}>
            <button className="btn small alt" onClick={toggleTheme}>üé® –¢–µ–º–∞: {theme === "neon" ? "–ù–µ–æ–Ω–æ–≤–∞—è" : "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è"}</button>
          </div>

          <div className="board-wrapper">
            <div className="board" role="grid" aria-label="–®–∞—Ö–º–∞—Ç–Ω–∞—è –¥–æ—Å–∫–∞">
              {board.map((row, r) => row.map((cell, c) => {
                const light = (r + c) % 2 === 0;
                const sel = selected && selected[0] === r && selected[1] === c;
                const isMove = highlight.some(([hr, hc]) => hr === r && hc === c);
                return (
                  <div key={r + "-" + c} onClick={() => onClick(r, c)}
                    className={`cell ${light ? "light" : "dark"} ${sel ? "selected" : ""} ${isMove ? "highlight" : ""}`}>
                    {cell && <span className={`piece ${cell.color === "w" ? "text-white" : "text-black"}`}>{chessPieces[cell.color + cell.kind]}</span>}
                  </div>
                );
              }))}
            </div>
          </div>

          <div className="status">–•–æ–¥: <strong>{turn === "w" ? "–ë–µ–ª—ã–µ" : "–ß—ë—Ä–Ω—ã–µ"}</strong></div>
        </div>
      );
    }

    /* ========== –ö–û–ú–ü–û–ù–ï–ù–¢: CheckersGame (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π, —Å —Ç–µ–º–æ–π) ========== */
    function CheckersGame({ goMenu, theme, toggleTheme }) {
      const [board, setBoard] = React.useState(initCheckersBoard());
      const [turn, setTurn] = React.useState("w");
      const [selected, setSelected] = React.useState(null);
      const [moves, setMoves] = React.useState([]);
      const [mode, setMode] = React.useState(null);
      const [botLevel, setBotLevel] = React.useState(1);
      const [message, setMessage] = React.useState("");
      const [gameOver, setGameOver] = React.useState(false);

      React.useEffect(() => {
        if (mode === "bot" && turn === "b" && !gameOver) {
          const t = setTimeout(() => {
            const m = checkersBotMove(board, "b", botLevel);
            if (m) performMove(m.from[0], m.from[1], m.move);
            else { setMessage("–ù–µ—Ç —Ö–æ–¥–æ–≤ ‚Äî –∏–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞"); setGameOver(true); }
          }, 350);
          return () => clearTimeout(t);
        }
      }, [board, turn, mode, botLevel, gameOver]);

      function performMove(sr, sc, move) {
        if (gameOver) return;
        const nb = cloneBoard(board);
        const piece = { ...nb[sr][sc] }; nb[sr][sc] = null;
        const [fr, fc] = move.path[move.path.length - 1];
        piece.king = piece.king || (piece.color === "w" ? fr === 0 : fr === 7);
        nb[fr][fc] = piece;
        move.captured.forEach(([cr, cc]) => nb[cr][cc] = null);
        setBoard(nb);
        const next = turn === "w" ? "b" : "w";
        setTurn(next);
        setSelected(null); setMoves([]);
        const anyMoves = (() => { for (let r = 0; r < 8; r++) for (let c = 0; c < 8; c++) { if (nb[r][c] && nb[r][c].color === next) { if (getCheckersMoves(nb, r, c).length > 0) return true; } } return false; })();
        if (!anyMoves) { setMessage("–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞"); setGameOver(true); }
      }

      function onClickCell(r, c) {
        if (gameOver) return;
        if (mode === null) { setMessage("–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–≥—Ä—ã (2 –∏–≥—Ä–æ–∫–∞ –∏–ª–∏ —Å –±–æ—Ç–æ–º)"); setTimeout(() => setMessage(""), 1100); return; }
        if (selected) {
          const mv = moves.find(m => {
            const [fr, fc] = m.path[m.path.length - 1]; return fr === r && fc === c;
          });
          if (mv) { performMove(selected[0], selected[1], mv); return; }
          if (board[r][c] && board[r][c].color === turn) { setSelected([r, c]); setMoves(getCheckersMoves(board, r, c)); }
          else { setSelected(null); setMoves([]); }
        } else {
          if (board[r][c] && board[r][c].color === turn) { setSelected([r, c]); setMoves(getCheckersMoves(board, r, c)); }
        }
      }

      function reset() { setBoard(initCheckersBoard()); setTurn("w"); setSelected(null); setMoves([]); setMode(null); setBotLevel(1); setMessage(""); setGameOver(false); }

      return (
        <div className="game-container">
          {message && <div className="popup">{message}</div>}
          <div className="game-controls">
            <div className="mode-controls">
              {mode === null ? (
                <>
                  <button className="btn small" onClick={() => setMode("2p")}>üßë‚Äçü§ù‚Äçüßë 2 –∏–≥—Ä–æ–∫–∞</button>
                  <button className="btn small" onClick={() => setMode("bot")}>ü§ñ –° –±–æ—Ç–æ–º</button>
                  <button className="btn small alt" onClick={reset}>üîÑ –ù–æ–≤–∞—è</button>
                  <button className="btn small alt" onClick={goMenu}>üè† –í –º–µ–Ω—é</button>
                </>
              ) : (
                <>
                  <div className="mode-row">
                    <button className={`btn small ${mode === "2p" ? "selected" : ""}`} onClick={() => setMode("2p")}>üßë‚Äçü§ù‚Äçüßë 2 –∏–≥—Ä–æ–∫–∞</button>
                    <button className={`btn small ${mode === "bot" ? "selected" : ""}`} onClick={() => setMode("bot")}>ü§ñ –° –±–æ—Ç–æ–º</button>
                  </div>
                  {mode === "bot" && (
                    <div className="difficulty">
                      <span className="diff-label">–£—Ä–æ–≤–µ–Ω—å:</span>
                      <button className={`btn tiny ${botLevel === 1 ? "selected" : ""}`} onClick={() => setBotLevel(1)}>–õ—ë–≥–∫–∏–π</button>
                      <button className={`btn tiny ${botLevel === 2 ? "selected" : ""}`} onClick={() => setBotLevel(2)}>–°—Ä–µ–¥–Ω–∏–π</button>
                      <button className={`btn tiny ${botLevel === 3 ? "selected" : ""}`} onClick={() => setBotLevel(3)}>–°–ª–æ–∂–Ω—ã–π</button>
                    </div>
                  )}
                  <button className="btn small alt" onClick={reset}>üîÑ –ù–æ–≤–∞—è</button>
                  <button className="btn small alt" onClick={goMenu}>üè† –í –º–µ–Ω—é</button>
                </>
              )}
            </div>
          </div>

          <h2 className="title">–®–∞—à–∫–∏</h2>

          <div className="theme-switcher" style={{ marginBottom: 8 }}>
            <button className="btn small alt" onClick={toggleTheme}>üé® –¢–µ–º–∞: {theme === "neon" ? "–ù–µ–æ–Ω–æ–≤–∞—è" : "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è"}</button>
          </div>

          <div className="board-wrapper">
            <div className="board" role="grid" aria-label="–®–∞—à–µ—á–Ω–∞—è –¥–æ—Å–∫–∞">
              {board.map((row, r) => row.map((cell, c) => {
                const light = (r + c) % 2 === 0;
                const sel = selected && selected[0] === r && selected[1] === c;
                const isMove = moves.some(m => { const [fr, fc] = m.path[m.path.length - 1]; return fr === r && fc === c; });
                return (
                  <div key={r + "-" + c} onClick={() => onClickCell(r, c)}
                    className={`cell ${light ? "light" : "dark"} ${sel ? "selected" : ""} ${isMove ? "highlight" : ""}`}>
                    {cell && (
                      <div className={`checker-piece ${cell.color === "w" ? "checker-white" : "checker-black"} ${cell.king ? "checker-king" : ""}`}>
                      </div>
                    )}
                  </div>
                );
              }))}
            </div>
          </div>

          <div className="status">–•–æ–¥: <strong>{turn === "w" ? "–ë–µ–ª—ã–µ" : "–ß—ë—Ä–Ω—ã–µ"}</strong></div>
        </div>
      );
    }

    /* ========== APP (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é) ========== */
    function App() {
      const [game, setGame] = React.useState(null);
      const [theme, setTheme] = React.useState("neon"); // "neon" –∏–ª–∏ "classic"

      React.useEffect(() => {
        document.body.classList.remove("classic");
        if (theme === "classic") document.body.classList.add("classic");
        else document.body.classList.remove("classic");
      }, [theme]);

      function toggleTheme() { setTheme(prev => prev === "neon" ? "classic" : "neon"); }

      return (
        <div className="menu" style={{ width: '100%', maxWidth: 980 }}>
          {!game ? (
            <div className="main-menu">
              <h1 className="title">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>
              <div className="btn-group" style={{ display: 'flex', justifyContent: 'center', gap: 12 }}>
                <button className="btn big green" onClick={() => setGame("chess")}>–®–∞—Ö–º–∞—Ç—ã</button>
                <button className="btn big green" onClick={() => setGame("checkers")}>–®–∞—à–∫–∏</button>
              </div>
              <div style={{ marginTop: 12, display: 'flex', justifyContent: 'center' }}>
                <button className="btn small alt" onClick={toggleTheme}>üé® –¢–µ–º–∞: {theme === "neon" ? "–ù–µ–æ–Ω–æ–≤–∞—è" : "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è"}</button>
              </div>
            </div>
          ) : (
            <>
              {game === "chess" && <ChessGame goMenu={() => setGame(null)} theme={theme} toggleTheme={toggleTheme} />}
              {game === "checkers" && <CheckersGame goMenu={() => setGame(null)} theme={theme} toggleTheme={toggleTheme} />}
            </>
          )}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>

</html>
